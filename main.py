import datetime,time,os,random
from lib.info import *


def banner():
    msg1 = r'''
    ____      __     _    __      __                      __    _ ___ __           _____                                 
   /  _/___  / /_   | |  / /_  __/ /___  ___  _________ _/ /_  (_) (_) /___  __   / ___/_________ _____  ____  ___  _____
   / // __ \/ __/   | | / / / / / / __ \/ _ \/ ___/ __ `/ __ \/ / / / __/ / / /   \__ \/ ___/ __ `/ __ \/ __ \/ _ \/ ___/
 _/ // /_/ / /_     | |/ / /_/ / / / / /  __/ /  / /_/ / /_/ / / / / /_/ /_/ /   ___/ / /__/ /_/ / / / / / / /  __/ /    
/___/\____/\__/     |___/\__,_/_/_/ /_/\___/_/   \__,_/_.___/_/_/_/\__/\__, /   /____/\___/\__,_/_/ /_/_/ /_/\___/_/     
                                                                      /____/                                           {}  
    '''.format(version)

    msg2 = r'''
  ___     _    __   __    _                   _    _ _ _ _          ___                            
 |_ _|___| |_  \ \ / /  _| |_ _  ___ _ _ __ _| |__(_) (_) |_ _  _  / __| __ __ _ _ _  _ _  ___ _ _ 
  | |/ _ \  _|  \ V / || | | ' \/ -_) '_/ _` | '_ \ | | |  _| || | \__ \/ _/ _` | ' \| ' \/ -_) '_|
 |___\___/\__|   \_/ \_,_|_|_||_\___|_| \__,_|_.__/_|_|_|\__|\_, | |___/\__\__,_|_||_|_||_\___|_|  
                                                             |__/                                    {}
    '''.format(version)

    msg = [msg1,msg2]
    id = random.randint(1,1)
    print(msg[id])

def init(config: dict):
    print('[*] target:{}'.format(config['url']))

def start():
    print('[*] starting at {}'.format(datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')))


def end():
    print('[*] shutting down at {}'.format(datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')))
    exit()

def show_option():
    important_value = {'target_ip':'','scan_type':None,}
    default_values = {}
    print(important_value)

def run_scan():
    print('[-->] running scanner')

def show_help():
    cmds = {'help':'show help', 'show_option':'show some options, such as default values, important values,eg.','run':'run the scanner to scanner the target',
            'exit':'close everthing and exit.'}
    for key,value in cmds.items():
        print('[*] {}:  {}'.format(key,value))

def handle_cmd(cmd):
    if cmd == 'help':
        show_help()
    elif cmd == 'show_option':
        show_option()
    elif cmd == 'run':
        run_scan()
    elif cmd in ['exit','close']:
        end()
    else:
        pass


def main():
    banner()
    start()
    while True:
        cmd = input('>')
        handle_cmd(cmd)

if __name__ == '__main__':
    version = VERSION
    main()